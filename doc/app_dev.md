# 应用开发

## 基础知识

### 网络管理器

```c++
QNetworkAccessManager * manager
```

> 用于发送http的各种请求

- 发送网络请求是异步的
- 建议全局只有一个manager（单例)

### 线程

- 常用的有两种方式来实现
  1. 继承QThread 重写run函数
  2. moveToThread

- 线程间通信可以用信号和槽，如果图省事可以直接用友元类

### 数据库

- 数据库管理器要用单例模式

- 数据库只初始化一次

- sql语句可以使用原始字面量

  

## 重要模块

### 功耗管理模块

通过使用QSocketNotifier来集成linux的inotify的功能到Qt，通过监测背光文件来控制能耗高的模块的启停，来控制功耗。

### 网络检测模块

通过两个定时器周期性的去访问一个简单的url，根据状态码来判断网络是否畅通

### 管理员模块

采用读取本地配置文件（INI格式）的方式去校验权限

# 结语

应用层总结完成，用于项目复盘与后续项目参考，不再展开实现细节。